{"version":3,"sources":["webpack:///./src/components/login/right.vue?107e","webpack:///./src/views/login.vue?d702","webpack:///./src/assets/svg/R-logo.svg","webpack:///./src/components/login/form.vue?f27f","webpack:///./src/views/login.vue?b93e","webpack:///./src/components/login/form.vue?6f86","webpack:///src/components/login/form.vue","webpack:///./src/components/login/form.vue?6dc2","webpack:///./src/components/login/form.vue","webpack:///./src/components/login/right.vue?417d","webpack:///src/components/login/right.vue","webpack:///./src/components/login/right.vue?af4a","webpack:///./src/components/login/right.vue","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?a5c4","webpack:///./src/views/login.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","_m","_v","ref","form","rules","model","value","callback","$$v","$set","expression","slot","loginMode","_e","class","on","$event","directives","name","rawName","handleLoginClick","handleRegisterClick","data","checkPassword","Error","checkPassword2","password","rePassword","methods","$refs","loginForm","validate","valid","_getUserInfo","axios","_loginSuccess","changeLoginState","window","localStorage","setItem","token","$store","dispatch","$router","push","component","_s","hitokoto","content","from","handleFresh","freshing","getHitokoto","Promise","icon","classList","add","setTimeout","remove","processBarAnimation","bar","style","width","parseInt","hitikoto","then","requestAnimationFrame","mounted","components","LoginForm","right"],"mappings":"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","file":"js/chunk-2cea810b.c2c7dc49.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./right.vue?vue&type=style&index=0&id=03aa7c01&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./right.vue?vue&type=style&index=0&id=03aa7c01&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/R-logo.95b02249.svg\";","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('el-row',[_c('el-col',{staticClass:\"left\",attrs:{\"md\":14}},[_c('login-form')],1),_c('el-col',{staticClass:\"right\",attrs:{\"md\":10}},[_c('right')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login-reg-form\"}},[_vm._m(0),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"A Open Source Wiki System\")]),_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-user-solid prefix\"})])],2)],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-key prefix\"})])],2)],1),_c('transition',{attrs:{\"name\":\"repass\"}},[(_vm.loginMode === false)?_c('el-form-item',{staticClass:\"repass\",attrs:{\"prop\":\"rePassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"再次输入密码\"},model:{value:(_vm.form.rePassword),callback:function ($$v) {_vm.$set(_vm.form, \"rePassword\", $$v)},expression:\"form.rePassword\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-key prefix\"})])],2)],1):_vm._e()],1)],1),_c('div',{class:{'switch': true, 'switch-down': !_vm.loginMode},on:{\"click\":function($event){_vm.loginMode = !_vm.loginMode}}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginMode),expression:\"loginMode\"}]},[_vm._v(\"没有账号，点击注册\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loginMode),expression:\"!loginMode\"}]},[_vm._v(\"已有账号，点击登录\")])]),_c('div',{staticClass:\"btn-box\",on:{\"click\":function($event){_vm.loginMode ? _vm.handleLoginClick() : _vm.handleRegisterClick()}}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-arrow-right\",\"circle\":\"\"}})],1),_vm._m(1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"title\"},[_c('i',{staticClass:\"el-icon-edit\"}),_c('span',[_vm._v(\"RWiki\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"../../assets/svg/R-logo.svg\")}})]),_c('div',{staticClass:\"info\"},[_c('span',[_vm._v(\"EsunR Production\")]),_c('span',[_vm._v(\"\\n        Github:\\n        \"),_c('a',{attrs:{\"href\":\"https://github.com/EsunR/RWiki\"}},[_vm._v(\"RWiki\")])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"login-reg-form\">\n    <!-- 标题 -->\n    <h1 class=\"title\">\n      <i class=\"el-icon-edit\"></i>\n      <span>RWiki</span>\n    </h1>\n    <h2 class=\"subtitle\">A Open Source Wiki System</h2>\n    <!-- 表单 -->\n    <el-form ref=\"loginForm\" :model=\"form\" :rules=\"rules\">\n      <el-form-item prop=\"name\">\n        <el-input v-model=\"form.name\" placeholder=\"用户名\">\n          <template slot=\"prepend\">\n            <i class=\"el-icon-user-solid prefix\"></i>\n          </template>\n        </el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input type=\"password\" v-model=\"form.password\" placeholder=\"密码\">\n          <template slot=\"prepend\">\n            <i class=\"el-icon-key prefix\"></i>\n          </template>\n        </el-input>\n      </el-form-item>\n      <transition name=\"repass\">\n        <el-form-item class=\"repass\" v-if=\"loginMode === false\" prop=\"rePassword\">\n          <el-input type=\"password\" v-model=\"form.rePassword\" placeholder=\"再次输入密码\">\n            <template slot=\"prepend\">\n              <i class=\"el-icon-key prefix\"></i>\n            </template>\n          </el-input>\n        </el-form-item>\n      </transition>\n    </el-form>\n    <!-- 切换登录注册 -->\n    <div :class=\"{'switch': true, 'switch-down': !loginMode}\" @click=\"loginMode = !loginMode\">\n      <span v-show=\"loginMode\">没有账号，点击注册</span>\n      <span v-show=\"!loginMode\">已有账号，点击登录</span>\n    </div>\n    <!-- 登录/注册按钮 -->\n    <div class=\"btn-box\" @click=\"loginMode ? handleLoginClick() : handleRegisterClick()\">\n      <el-button type=\"primary\" icon=\"el-icon-arrow-right\" circle></el-button>\n    </div>\n    <!-- 尾部信息 -->\n    <div class=\"footer\">\n      <div class=\"img-wrapper\">\n        <img src=\"../../assets/svg/R-logo.svg\" />\n      </div>\n      <div class=\"info\">\n        <span>EsunR Production</span>\n        <span>\n          Github:\n          <a href=\"https://github.com/EsunR/RWiki\">RWiki</a>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"login-reg-form\",\n  data() {\n    var checkPassword = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.form.rePassword !== \"\" && this.loginMode === false) {\n          this.$refs.loginForm.validateField(\"rePassword\");\n        }\n        callback();\n      }\n    };\n    var checkPassword2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.form.password) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      form: {\n        name: \"\",\n        password: \"\",\n        rePassword: \"\"\n      },\n      loginMode: true,\n      rules: {\n        name: [\n          {\n            required: true,\n            message: \"请输入用户名\",\n            trigger: [\"change\", \"blur\"]\n          }\n        ],\n        password: [{ validator: checkPassword, trigger: [\"change\", \"blur\"] }],\n        rePassword: [{ validator: checkPassword2, trigger: [\"change\", \"blur\"] }]\n      }\n    };\n  },\n  methods: {\n    ...mapActions([\"changeLoginState\", \"setUserInfo\"]),\n    handleLoginClick() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.axios\n            .post(\"/base/login\", this.form)\n            .then(res => {\n              this.$message.success(\"登录成功\");\n              this._loginSuccess(res.data.data.token);\n            })\n            .catch(err => {\n              this.$message.error(`${err}`);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    handleRegisterClick() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.axios\n            .post(\"/base/register\", this.form)\n            .then(res => {\n              this.$message.success(\"注册成功，已登录\");\n              this._loginSuccess(res.data.data.token);\n            })\n            .catch(err => {\n              this.$message.error(`${err}`);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    _getUserInfo() {\n      this.axios\n        .get(\"/base/getUserInfo\")\n        .then(res => {\n          if (res.data.msg === \"ok\") {\n            this.setUserInfo(res.data.data);\n          } else {\n            throw new Error(res.data.msg);\n          }\n        })\n        .catch(err => {\n          console.log(err);\n          this.$message.error(err);\n        });\n    },\n    _loginSuccess(token) {\n      this.changeLoginState(true);\n      window.localStorage.setItem(\"login_token\", token);\n      this._getUserInfo();\n      this.$store.dispatch(\"setFullScreen\", false);\n      this.$store.dispatch(\"addKeepActive\", \"center\");\n      this.$router.push(\"/center\");\n    }\n  }\n};\n</script>\n\n<style lang='scss'>\n$repass-transition: all 0.5s ease;\n#login-reg-form {\n  position: relative;\n  padding: 40px;\n  box-sizing: border-box;\n  height: 100%;\n  .title {\n    font-size: 2.5rem;\n    margin: 0;\n    i {\n      color: #409eff;\n    }\n    span {\n      font-family: \"Times New Roman\", Times, serif;\n      margin-left: 10px;\n      font-weight: 500;\n    }\n  }\n  .subtitle {\n    font-size: 1rem;\n    font-weight: 100;\n    font-family: \"Times New Roman\", Times, serif;\n    margin: 0;\n    margin-left: 52px;\n  }\n\n  .el-form {\n    position: relative;\n    margin-top: 5rem;\n    .el-input-group__prepend {\n      background-color: #409eff;\n      border: none;\n    }\n    .prefix {\n      color: white;\n    }\n    .repass {\n      position: absolute;\n      width: 100%;\n    }\n    .repass-enter-active,\n    .repass-leave-active {\n      transition: $repass-transition;\n    }\n    .repass-enter,\n    .repass-leave-to {\n      transform: translateY(-80px);\n      opacity: 0;\n    }\n  }\n\n  .switch {\n    display: flex;\n    flex-direction: row-reverse;\n    transition: $repass-transition;\n    span {\n      cursor: pointer;\n      color: #409eff;\n      font-size: 14px;\n      text-align: right;\n      opacity: 0.8;\n      &:hover {\n        opacity: 1;\n        text-decoration: underline;\n      }\n    }\n  }\n  .switch-down {\n    transform: translateY(65px);\n  }\n\n  .btn-box {\n    position: absolute;\n    right: 0px;\n    bottom: 170px;\n    transform: translateX(50%);\n    z-index: 999;\n    @media (max-width: 990px) {\n      transform: translateX(0);\n      right: 40px;\n    }\n    button {\n      width: 60px;\n      height: 60px;\n      font-size: 1.2rem;\n    }\n  }\n\n  .footer {\n    position: absolute;\n    bottom: 40px;\n    height: 50px;\n    display: flex;\n    .img-wrapper {\n      width: 20px;\n      height: 20px;\n      background-color: #fe8257;\n      padding: 15px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      img {\n        width: 100%;\n      }\n    }\n    .info {\n      padding: 10px;\n      background-color: rgba(0, 0, 0, 0.1);\n      span {\n        display: block;\n        font-size: 8px;\n        margin: 0;\n        text-indent: 0;\n        a {\n          color: black;\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=42834962&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./form.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login-right\"}},[_c('img',{staticClass:\"background-img\",attrs:{\"src\":\"https://api.dujin.org/bing/1366.php\"}}),_c('div',{staticClass:\"right-content-wrapper\"},[_c('h3',[_vm._v(\"每日一言 | Hitokoto\")]),_c('div',{ref:\"hitokoto\",staticClass:\"hitokoto\"},[_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.hitokoto.content))]),_c('div',{staticClass:\"from\"},[_vm._v(\"—— \"+_vm._s(_vm.hitokoto.from))]),_c('div',{ref:\"processBar\",staticClass:\"process-bar\"})]),_c('button',{staticClass:\"fresh-button\",on:{\"click\":_vm.handleFresh}},[_vm._v(\"\\n      Fresh\\n      \"),_c('i',{ref:\"fresh-icon\",staticClass:\"el-icon-refresh test\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"login-right\">\n    <img class=\"background-img\" src=\"https://api.dujin.org/bing/1366.php\" />\n    <div class=\"right-content-wrapper\">\n      <h3>每日一言 | Hitokoto</h3>\n      <div class=\"hitokoto\" ref=\"hitokoto\">\n        <div class=\"content\">{{hitokoto.content}}</div>\n        <div class=\"from\">—— {{hitokoto.from}}</div>\n        <div class=\"process-bar\" ref=\"processBar\"></div>\n      </div>\n      <button class=\"fresh-button\" @click=\"handleFresh\">\n        Fresh\n        <i ref=\"fresh-icon\" class=\"el-icon-refresh test\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    this.freshing = false;\n    return {\n      hitokoto: {\n        from: \"\",\n        content: \"\"\n      }\n    };\n  },\n  methods: {\n    getHitokoto() {\n      return new Promise((resolve, reject) => {\n        this.axios\n          .get(\"https://v1.hitokoto.cn/\")\n          .then(res => {\n            this.hitokoto.content = res.data.hitokoto;\n            this.hitokoto.from = res.data.from;\n            resolve();\n          })\n          .catch(err => {\n            console.log(err);\n            this.$message.error(`${err}`);\n            reject();\n          });\n      });\n    },\n    handleFresh() {\n      // 节流\n      if (!this.freshing) {\n        return new Promise(resolve => {\n          this.freshing = true;\n          this.$refs.processBar.style.width = \"0px\";\n          let icon = this.$refs[\"fresh-icon\"];\n          icon.classList.add(\"rotate\");\n          setTimeout(() => {\n            icon.classList.remove(\"rotate\");\n          }, 1000);\n\n          let hitokoto = this.$refs[\"hitokoto\"];\n          hitokoto.classList.add(\"hitokoto-duration\");\n          hitokoto.classList.add(\"hitokoto-leave\");\n          setTimeout(() => {\n            hitokoto.classList.remove(\"hitokoto-duration\");\n            hitokoto.classList.remove(\"hitokoto-leave\");\n            hitokoto.classList.add(\"hitokoto-enter\");\n            this.getHitokoto()\n              .catch(err => {\n                console.log(err);\n                this.$message.error(`${err}`);\n                hitokoto.classList.add(\"hitokoto-duration\");\n                hitokoto.classList.remove(\"hitokoto-enter\");\n                this.freshing = false;\n              })\n              .finally(() => {\n                hitokoto.classList.add(\"hitokoto-duration\");\n                hitokoto.classList.remove(\"hitokoto-enter\");\n                this.freshing = false;\n                resolve();\n              });\n          }, 1000);\n        });\n      }\n    },\n    processBarAnimation() {\n      let bar = this.$refs.processBar;\n      let width = parseInt(window.getComputedStyle(bar).width);\n      bar.style.width = `${width + 1}px`;\n      let hitikoto = window.getComputedStyle(this.$refs.hitokoto);\n      if (width == parseInt(hitikoto.width) - 80) {\n        this.handleFresh().then(() => {\n          window.requestAnimationFrame(this.processBarAnimation);\n        });\n      } else {\n        window.requestAnimationFrame(this.processBarAnimation);\n      }\n    }\n  },\n  mounted() {\n    this.$refs.hitokoto.classList.add(\"hitokoto-duration\");\n    this.$refs.hitokoto.classList.add(\"hitokoto-enter\");\n    this.getHitokoto().then(() => {\n      this.$refs.hitokoto.classList.remove(\"hitokoto-enter\");\n    });\n    setTimeout(() => {\n      this.processBarAnimation();\n    }, 500);\n  }\n};\n</script>\n\n<style lang='scss' scoped>\n#login-right {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n.background-img {\n  height: 100%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.right-content-wrapper {\n  color: white;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background-color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n  h3 {\n    font-weight: 500;\n    margin: 40px;\n  }\n\n  .hitokoto {\n    width: 100%;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    box-sizing: border-box;\n    padding: 0 40px;\n    .content {\n      font-size: 1.5rem;\n    }\n    .from {\n      margin-top: 20px;\n      text-align: right;\n    }\n    .process-bar {\n      width: 0px;\n      height: 2px;\n      margin-top: 20px;\n      background-color: white;\n    }\n  }\n  .hitokoto-leave {\n    transform: translateY(50px);\n    opacity: 0;\n  }\n  .hitokoto-enter {\n    transform: translateY(-100px);\n    opacity: 0;\n  }\n  .hitokoto-duration {\n    transition: all 1s ease;\n  }\n\n  .fresh-button {\n    transition: all 0.5s ease;\n    position: absolute;\n    bottom: 40px;\n    right: 40px;\n    background: none;\n    color: white;\n    border: 1px solid white;\n    padding: 10px;\n    border-radius: 5px;\n    cursor: pointer;\n    &:hover {\n      background-color: #fff;\n      color: black;\n    }\n    i {\n      transition-property: transform;\n      transition-duration: 1s;\n      transition-timing-function: linear;\n    }\n    .rotate {\n      transform: rotate(360deg);\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./right.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./right.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./right.vue?vue&type=template&id=03aa7c01&scoped=true&\"\nimport script from \"./right.vue?vue&type=script&lang=js&\"\nexport * from \"./right.vue?vue&type=script&lang=js&\"\nimport style0 from \"./right.vue?vue&type=style&index=0&id=03aa7c01&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03aa7c01\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"login\">\n    <el-row>\n      <el-col :md=\"14\" class=\"left\">\n        <login-form></login-form>\n      </el-col>\n      <el-col :md=\"10\" class=\"right\">\n        <right></right>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport LoginForm from \"../components/login/form\";\nimport right from \"../components/login/right\";\nexport default {\n  name: \"login\",\n  components: {\n    LoginForm,\n    right\n  },\n  mounted() {\n    this.$store.dispatch(\"setFullScreen\", true);\n  }\n};\n</script>\n\n<style lang='scss'>\n#login {\n  background-color: #fff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  .el-row {\n    height: 100%;\n    overflow: hidden;\n    .left {\n      height: 100%;\n    }\n    .right {\n      height: 100%;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=dcbf1168&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}